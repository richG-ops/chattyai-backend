"use strict";(()=>{var e={};e.id=932,e.ids=[932],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{e.exports=require("buffer")},84770:e=>{e.exports=require("crypto")},76162:e=>{e.exports=require("stream")},21764:e=>{e.exports=require("util")},40404:(e,s,t)=>{t.r(s),t.d(s,{originalPathname:()=>y,patchFetch:()=>f,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>x,staticGenerationAsyncStorage:()=>h});var r={};t.r(r),t.d(r,{GET:()=>l,POST:()=>c});var n=t(49303),i=t(88716),a=t(60670),o=t(87070),u=t(41482),p=t.n(u);async function c(e){try{let{email:s,password:t}=await e.json();if(!s)return o.NextResponse.json({error:"Email is required"},{status:400});let r=[{id:"client_demo_123",email:"demo@business.com",businessName:"Demo Business",ownerName:"Demo Owner",businessType:"salon"}].find(e=>e.email===s);if(!r)return o.NextResponse.json({error:"Client not found"},{status:404});let n=process.env.JWT_SECRET||"your-secret-key",i=p().sign({client_id:r.id,email:r.email,business_name:r.businessName},n,{expiresIn:"7d"});return o.NextResponse.json({success:!0,token:i,client:{id:r.id,email:r.email,businessName:r.businessName,ownerName:r.ownerName,businessType:r.businessType}})}catch(e){return console.error("Auth error:",e),o.NextResponse.json({error:"Authentication failed"},{status:500})}}async function l(e){try{let s=e.headers.get("authorization");if(!s||!s.startsWith("Bearer "))return o.NextResponse.json({error:"Missing authorization header"},{status:401});let t=s.split(" ")[1],r=process.env.JWT_SECRET||"your-secret-key",n=p().verify(t,r);return o.NextResponse.json({success:!0,client:{id:n.client_id,email:n.email,businessName:n.business_name}})}catch(e){return o.NextResponse.json({error:"Invalid token"},{status:401})}}let d=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/auth/route",pathname:"/api/auth",filename:"route",bundlePath:"app/api/auth/route"},resolvedPagePath:"C:\\Users\\RICHS\\OneDrive\\Desktop\\chattyai-calendar-bot\\thechattyai-frontend\\src\\app\\api\\auth\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:h,serverHooks:x}=d,y="/api/auth/route";function f(){return(0,a.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:h})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[276,726,70],()=>t(40404));module.exports=r})();