"use strict";(()=>{var e={};e.id=486,e.ids=[486],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{e.exports=require("buffer")},84770:e=>{e.exports=require("crypto")},76162:e=>{e.exports=require("stream")},21764:e=>{e.exports=require("util")},951:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>M,patchFetch:()=>f,requestAsyncStorage:()=>h,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>p});var a={};r.r(a),r.d(a,{GET:()=>l});var o=r(49303),s=r(88716),i=r(60670),n=r(87070),c=r(41482),u=r.n(c);async function l(e,{params:t}){try{let r=t.id,a=e.headers.get("authorization");if(!a||!a.startsWith("Bearer "))return n.NextResponse.json({error:"Missing or invalid authorization header"},{status:401});let o=a.split(" ")[1],s=process.env.JWT_SECRET||"your-secret-key";try{if(u().verify(o,s).client_id!==r)return n.NextResponse.json({error:"Unauthorized access to client data"},{status:403})}catch(e){return n.NextResponse.json({error:"Invalid token"},{status:401})}let i=process.env.CALENDAR_API_URL||"http://localhost:4000",c=process.env.CALENDAR_API_JWT||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcGlfa2V5IjoiMDFiYTE2OGRkMzBjMDM3N2MxZjBjNzRiOTM2ZjQyNzQiLCJpYXQiOjE3NTIwMDgzNjcsImV4cCI6MTc4MzU0NDM2N30.zelpVbu-alSaAfMSkSsne2gaaWETqdbakzui5Pbi_Ts",l=await fetch(`${i}/get-availability`,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}}),d=await l.json(),h={today:{calls:Math.floor(20*Math.random())+5,bookings:Math.floor(15*Math.random())+3,revenue:Math.floor(2e3*Math.random())+500,conversionRate:Math.floor(30*Math.random())+60},week:{calls:Math.floor(100*Math.random())+50,bookings:Math.floor(80*Math.random())+20,revenue:Math.floor(1e4*Math.random())+3e3,conversionRate:Math.floor(25*Math.random())+65},month:{calls:Math.floor(500*Math.random())+200,bookings:Math.floor(400*Math.random())+100,revenue:Math.floor(5e4*Math.random())+15e3,conversionRate:Math.floor(20*Math.random())+70},availability:d.slots||[],recentBookings:[{id:"book_1",customerName:"Sarah Johnson",service:"Consultation",time:"2025-01-15T14:00:00Z",duration:30,status:"confirmed"},{id:"book_2",customerName:"Mike Chen",service:"Haircut",time:"2025-01-15T15:30:00Z",duration:45,status:"confirmed"}],callTrends:{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],data:[12,15,8,22,18,25,14]},bookingTrends:{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],data:[8,12,6,18,14,20,10]}};return n.NextResponse.json({success:!0,metrics:h,timestamp:new Date().toISOString()})}catch(e){return n.NextResponse.json({error:"Failed to fetch metrics"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/clients/[id]/metrics/route",pathname:"/api/clients/[id]/metrics",filename:"route",bundlePath:"app/api/clients/[id]/metrics/route"},resolvedPagePath:"C:\\Users\\RICHS\\OneDrive\\Desktop\\chattyai-calendar-bot\\thechattyai-frontend\\src\\app\\api\\clients\\[id]\\metrics\\route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:h,staticGenerationAsyncStorage:p,serverHooks:m}=d,M="/api/clients/[id]/metrics/route";function f(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:p})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,972,482],()=>r(951));module.exports=a})();